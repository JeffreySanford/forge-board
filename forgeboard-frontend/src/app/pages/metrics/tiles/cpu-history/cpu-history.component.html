<div class="metric-tile">
  <div class="tile-header">
    <div class="tile-icon">
      <mat-icon>{{icon}}</mat-icon>
    </div>
    <div class="tile-title">
      <h3>{{title}}</h3>
      <span>{{subtitle}}</span>
    </div>
    <div class="tile-actions">
      <button class="refresh-btn" (click)="refresh()">
        <mat-icon>refresh</mat-icon>
      </button>
    </div>
  </div>
  
  <div class="tile-content">
    <div #chart style="width: 100%; height: 180px;"></div>
  </div>
  
  <div class="tile-footer">
    <div class="footer-stat">
      <span class="stat-value">{{cpuAverage}}%</span>
      <span>avg</span>
    </div>
    <div class="footer-stat">
      <span class="stat-value">{{cpuMaximum}}%</span>
      <span>max</span>
    </div>
    <div class="footer-stat">
      <span class="stat-value" [ngClass]="{
        'positive-value': cpuTrend > 0,
        'negative-value': cpuTrend < 0
      }">{{cpuTrend > 0 ? '+' : ''}}{{cpuTrend}}%</span>
      <span>trend</span>
    </div>
  </div>
  
  <div class="tile-loading" *ngIf="loading">
    <div class="spinner"></div>
  </div>
</div>
